
# FairyTale API (DRF + GigaChat)

**FairyTale API** — это RESTful API для генерации сказок с помощью GigaChat.

Проект написан на **Django + Django REST Framework** и позволяет создавать уникальные истории, задавая заголовок, персонажей, стиль и длину сказки.

---

## Как работает

* **GET /fairytales/**
  Возвращает список всех созданных сказок. Каждая сказка содержит:

  * `id` — уникальный идентификатор
  * `title` — заголовок сказки
  * `story` — текст истории
  * `created_at` — дата создания

* **POST /fairytales/**
  Генерирует новую сказку через GigaChat на основе заданных параметров:

  * `title` — заголовок сказки
  * `characters` — список персонажей
  * `style` — стиль сказки (например, "сказочный")
  * `length` — длина истории (например, "short", "medium", "long")

  API отправляет запрос в GigaChat, получает готовую сказку и сохраняет её в базе.

---

Пример ответа GET `/fairytales/`:

```json
[
  {
    "id": "8da972d4-12f9-4944-8088-34f37444731e",
    "title": "Сказка про String",
    "story": "# Сказка про String\nЖил-был маленький String по имени Петя...",
    "created_at": "2025-09-04T20:40:11.369161+03:00"
  }
]
```

Пример запроса POST `/fairytales/`:

```json
{
  "title": "Ислам-дев",
  "characters": ["Ислам", "Дев"],
  "style": "сказочный",
  "length": "medium"
}
```

Пример ответа:

```json
{
  "id": "a32a90dc-6f08-40fb-82f1-b7ff7dea40eb",
  "title": "Ислам-дев",
  "story": "# Сказка «Ислам-дев»\nЖил-был в далёкой-далёкой стране мудрый джинн...",
  "created_at": "2025-09-04T20:48:38.842358+03:00"
}
```

